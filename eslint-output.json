[{"filePath":"/Users/sreebhargav/AgentPR/AgentPR/dummy.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'unused' is assigned a value but never used.","line":3,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":13},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":3,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":3,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[43,46],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[43,46],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'z' is assigned a value but never used.","line":4,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":8},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":4,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[63,66],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[63,66],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'foo' is assigned a value but never used.","line":5,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":10},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":5,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[85,88],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[85,88],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// test dummy\n// test change\nconst unused: any = 123;\nconst z: any = 999;\nconst foo: any = 'trigger inline comment';\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/sreebhargav/AgentPR/AgentPR/src/__tests__/sample.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/sreebhargav/AgentPR/AgentPR/src/agents/coverageAgent.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":8,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[171,174],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[171,174],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":59,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1843,1846],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1843,1846],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import fs from 'fs';\nimport path from 'path';\nimport axios from 'axios';\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\nexport async function runCoverageAgent(prPayload: any) {\n  try {\n    const token = process.env.GITHUB_TOKEN!;\n    if (!token) throw new Error('Missing GITHUB_TOKEN in environment variables.');\n\n    const prNumber = prPayload.number;\n    const owner = prPayload.base.repo.owner.login;\n    const repo = prPayload.base.repo.name;\n\n    console.log('üîß PR Info:', `${owner}/${repo} #${prNumber}`);\n\n    const headers = {\n      Authorization: `token ${token}`,\n      Accept: 'application/vnd.github+json',\n      'User-Agent': 'AgentPR-Bot',\n    };\n\n    const coveragePath = path.resolve(__dirname, '../../coverage/coverage-summary.json');\n    console.log('üìÑ Reading coverage from:', coveragePath);\n\n    const coverageRaw = fs.readFileSync(coveragePath, 'utf-8');\n    const coverage = JSON.parse(coverageRaw);\n    const total = coverage.total;\n\n    console.log('üìä Parsed Coverage:', total);\n\n    const formatPercent = (value: unknown) => {\n      const num = typeof value === 'number' ? value : 0;\n      return `${num.toFixed(2)}%`;\n    };\n\n    const message = `\nüìä **Test Coverage Report**\n- **Lines:** ${formatPercent(total.lines.pct)}\n- **Statements:** ${formatPercent(total.statements.pct)}\n- **Functions:** ${formatPercent(total.functions.pct)}\n- **Branches:** ${formatPercent(total.branches.pct)}\n`;\n\n    console.log('üß† Comment message prepared:\\n', message);\n\n    const commentUrl = `https://api.github.com/repos/${owner}/${repo}/issues/${prNumber}/comments`;\n    console.log('üì§ Posting coverage comment to:', commentUrl);\n\n    const response = await axios.post(\n      commentUrl,\n      { body: message },\n      { headers }\n    );\n\n    console.log('‚úÖ Coverage comment posted. ID:', response.data.id);\n  } catch (error: any) {\n    console.error('‚ùå Coverage Agent failed.');\n    if (error.response) {\n      console.error('Status:', error.response.status);\n      console.error('URL:', error.config?.url);\n      console.error('Response:', JSON.stringify(error.response.data, null, 2));\n    } else {\n      console.error('Error:', error.message);\n    }\n  }\n}\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/sreebhargav/AgentPR/AgentPR/src/agents/lintParser.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'dummy' is assigned a value but never used.","line":32,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":32,"endColumn":12},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":32,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[867,870],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[867,870],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import fs from 'fs';\nimport path from 'path';\n\ninterface LintMessage {\n  ruleId: string | null;\n  severity: number;\n  message: string;\n  line: number;\n  column: number;\n}\n\ninterface LintResult {\n  filePath: string;\n  messages: LintMessage[];\n}\n\nconst lintFilePath = path.resolve(__dirname, '../../eslint-output.json'); // adjust path as needed\n\nconst rawData = fs.readFileSync(lintFilePath, 'utf-8');\nconst results: LintResult[] = JSON.parse(rawData);\n\nfor (const result of results) {\n  const relativePath = path.relative(process.cwd(), result.filePath);\n  for (const msg of result.messages) {\n    const level = msg.severity === 2 ? '‚ùå Error' : '‚ö†Ô∏è Warning';\n    console.log(`${level}: ${msg.message}`);\n    console.log(`‚Üí ${relativePath}:${msg.line}:${msg.column}`);\n    if (msg.ruleId) console.log(`Rule: ${msg.ruleId}`);\n    console.log('---');\n  }\n}\nconst dummy: any = 42;\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/sreebhargav/AgentPR/AgentPR/src/agents/postLintComments.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'temp' is assigned a value but never used.","line":9,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":11},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[178,181],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[178,181],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'x' is assigned a value but never used.","line":10,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":8},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":10,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[225,228],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[225,228],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":12,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[283,286],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[283,286],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":45,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1374,1377],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1374,1377],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":47,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1445,1448],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1445,1448],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"prefer-const","severity":2,"message":"'relativePath' is never reassigned. Use 'const' instead.","line":86,"column":11,"nodeType":"Identifier","messageId":"useConst","endLine":86,"endColumn":23,"fix":{"range":[2568,2648],"text":"const relativePath = path.relative(repoRoot, result.filePath).replace(/\\\\/g, '/');"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":123,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":123,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3856,3859],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3856,3859],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":145,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":145,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4484,4487],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4484,4487],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":10,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":1,"fixableWarningCount":0,"source":"import fs from 'fs';\nimport path from 'path';\nimport axios from 'axios';\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\n// Test lint error to trigger inline comment\nconst temp: any = 'still testing inline comment';\nconst x: any = 123;\n\nexport async function runLintAgent(prPayload: any) {\n  const token = process.env.GITHUB_TOKEN!;\n  if (!token) throw new Error('Missing GITHUB_TOKEN in environment variables.');\n\n  const prNumber = prPayload.number;\n  const repo = prPayload.base.repo.name;\n  const owner = prPayload.base.repo.owner.login;\n  const head_sha = prPayload.head.sha;\n\n  console.log('üîß Debug: repo =', repo);\n  console.log('üîß Debug: owner =', owner);\n  console.log('üîß Debug: prNumber =', prNumber);\n  console.log('üîß Debug: commit SHA =', head_sha);\n\n  const headers = {\n    Authorization: `token ${token}`,\n    Accept: 'application/vnd.github+json',\n    'User-Agent': 'AgentPR-Bot',\n  };\n\n  const results = JSON.parse(\n    fs.readFileSync(path.resolve(__dirname, '../../eslint-output.json'), 'utf-8')\n  );\n\n  const repoRoot = path.resolve(__dirname, '../../');\n  console.log('üìÅ Resolved repo root:', repoRoot);\n\n  const getChangedFiles = async () => {\n    const { data } = await axios.get(\n      `https://api.github.com/repos/${owner}/${repo}/pulls/${prNumber}/files`,\n      { headers }\n    );\n    console.log('üóÇ PR changed files:');\n    data.forEach((f: any) => console.log('  ‚Ä¢', f.filename));\n    return data\n  .filter((f: any) => f.patch) // üõ°Ô∏è filter out files without patch\n  .map((f: { filename: string; patch: string }) => ({\n    filename: f.filename,\n    patch: f.patch,\n  }));\n\n  };\n\n  const extractChangedLines = (patch: string): Set<number> => {\n    const changedLines = new Set<number>();\n    const lines = patch.split('\\n');\n    let newLine = 0;\n    for (const line of lines) {\n      if (line.startsWith('@@')) {\n        const match = /@@ -\\d+,\\d+ \\+(\\d+),?(\\d+)? @@/.exec(line);\n        if (match) newLine = parseInt(match[1], 10);\n        continue;\n      }\n      if (line.startsWith('+') && !line.startsWith('+++')) {\n        changedLines.add(newLine);\n        newLine++;\n      } else if (!line.startsWith('-')) {\n        newLine++;\n      }\n    }\n    return changedLines;\n  };\n\n  try {\n    const changedFiles = await getChangedFiles();\n\n    const fileToChangedLines = new Map<string, Set<number>>();\n    changedFiles.forEach((file: { filename: string; patch: string }) => {\n      fileToChangedLines.set(file.filename, extractChangedLines(file.patch));\n    });\n\n    let commentsPosted = 0;\n\n    for (const result of results) {\n      let relativePath = path.relative(repoRoot, result.filePath).replace(/\\\\/g, '/');\n      const match = relativePath.match(/AgentPR\\/(src\\/.+\\.ts)$/);\n      const filePath = match ? match[1] : relativePath;\n\n      console.log('üß™ Normalized file path for GitHub:', filePath);\n\n      if (!fileToChangedLines.has(filePath)) {\n        console.log('üö´ Skipping file not in PR diff:', filePath);\n        continue;\n      }\n\n      const changedLines = fileToChangedLines.get(filePath)!;\n\n      for (const message of result.messages) {\n        if (!changedLines.has(message.line)) {\n          console.log(`üîï Skipping unchanged line ${message.line}`);\n          continue;\n        }\n\n        const commentBody = `Error: ${message.message}\\nRule: \\`${message.ruleId || 'n/a'}\\``;\n\n        try {\n          const postUrl = `https://api.github.com/repos/${owner}/${repo}/pulls/${prNumber}/comments`;\n          console.log(`üì§ Inline comment to ${filePath}:${message.line}`);\n\n          await axios.post(\n            postUrl,\n            {\n              body: commentBody,\n              commit_id: head_sha,\n              path: filePath,\n              line: message.line,\n              side: 'RIGHT',\n            },\n            { headers }\n          );\n          commentsPosted++;\n        } catch (error: any) {\n          console.warn(\n            `‚ùå Failed to comment on ${filePath}:${message.line}`,\n            error.response?.data?.message || error.message\n          );\n        }\n      }\n    }\n\n    if (commentsPosted === 0) {\n      const fallbackUrl = `https://api.github.com/repos/${owner}/${repo}/issues/${prNumber}/comments`;\n      console.log(`üì§ Fallback comment to ${fallbackUrl}`);\n      await axios.post(\n        fallbackUrl,\n        {\n          body: '‚úÖ Lint completed, but no inline comments were necessary.',\n        },\n        { headers }\n      );\n    }\n\n    console.log('‚úÖ Lint Agent finished.');\n  } catch (error: any) {\n    console.error('‚ùå Lint Agent error:', error.response?.data?.message || error.message);\n  }\n}\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/sreebhargav/AgentPR/AgentPR/src/agents/triageAgent.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":7,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[247,250],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[247,250],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'test' is assigned a value but never used.","line":18,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":13},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[653,656],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[653,656],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { classifyRiskLevel } from '../utils/classifier';\nimport { postPRLabel } from '../services/githubService';\n\n/**\n * Triage Agent: classifies PRs based on title/body and applies risk label\n */\nexport async function handlePullRequest(payload: any) {\n  const prTitle = payload.pull_request.title;\n  const prBody = payload.pull_request.body || '';\n  const prNumber = payload.pull_request.number;\n  const repo = payload.repository.name;\n  const owner = payload.repository.owner.login;\n\n  const risk = classifyRiskLevel(`${prTitle} ${prBody}`);\n  await postPRLabel(owner, repo, prNumber, risk);\n\n  console.log(`‚úÖ Applied label: ${risk}`);\n  const test: any=         64;\n\n}\n\n\n\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/sreebhargav/AgentPR/AgentPR/src/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/sreebhargav/AgentPR/AgentPR/src/routes/github.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/sreebhargav/AgentPR/AgentPR/src/services/githubService.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[854,857],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[854,857],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import axios from 'axios';\nimport dotenv from 'dotenv';\n\ndotenv.config(); // Ensure this is called so env vars are loaded\n\nexport const postPRLabel = async (\n  owner: string,\n  repo: string,\n  prNumber: number,\n  label: string\n) => {\n  const token = process.env.GITHUB_TOKEN;\n  console.log('GitHub token:', token); \n\n  if (!token) {\n    throw new Error('GitHub token is missing. Check your .env file');\n  }\n\n  try {\n    const response = await axios.post(\n      `https://api.github.com/repos/${owner}/${repo}/issues/${prNumber}/labels`,\n      { labels: [label] },\n      {\n        headers: {\n          Authorization: `token ${token}`,\n          Accept: 'application/vnd.github+json',\n          'User-Agent': 'AgentPR-Bot'\n        }\n      }\n    );\n\n    console.log(`‚úÖ Label \"${label}\" added to PR #${prNumber}`);\n    return response.data;\n  } catch (error: any) {\n    console.error('‚ùå Failed to add label');\n    if (error.response) {\n      console.error('Status:', error.response.status);\n      console.error('Headers:', error.response.headers);\n      console.error('Data:', error.response.data);\n    } else if (error.request) {\n      console.error('No response received:', error.request);\n    } else {\n      console.error('Error setting up request:', error.message);\n    }\n    throw error;\n  }\n};\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/sreebhargav/AgentPR/AgentPR/src/utils/classifier.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/sreebhargav/AgentPR/AgentPR/src/utils/math.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'testInlineViolation' is assigned a value but never used.","line":4,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":28},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":4,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[103,106],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[103,106],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export function add(a: number, b: number): number {\n    return a + b;\n  }\n  const testInlineViolation: any = 123; // should trigger lint comment\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]}]